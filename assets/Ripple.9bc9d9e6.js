import{f as w}from"./QSpinner.1f524bf5.js";import{c as x}from"./dom.f50efdc0.js";import{M as C,U as E,V as R,O as g,W as T}from"./index.be2a1a55.js";function M(r,t=250){let e=!1,o;return function(){return e===!1&&(e=!0,setTimeout(()=>{e=!1},t),o=r.apply(this,arguments)),o}}function h(r,t,e,o){e.modifiers.stop===!0&&g(r);const s=e.modifiers.color;let l=e.modifiers.center;l=l===!0||o===!0;const i=document.createElement("span"),a=document.createElement("span"),d=T(r),{left:$,top:k,width:n,height:c}=t.getBoundingClientRect(),p=Math.sqrt(n*n+c*c),f=p/2,m=`${(n-p)/2}px`,v=l?m:`${d.left-$-f}px`,y=`${(c-p)/2}px`,b=l?y:`${d.top-k-f}px`;a.className="q-ripple__inner",x(a,{height:`${p}px`,width:`${p}px`,transform:`translate3d(${v},${b},0) scale3d(.2,.2,1)`,opacity:0}),i.className=`q-ripple${s?" text-"+s:""}`,i.setAttribute("dir","ltr"),i.appendChild(a),t.appendChild(i);const _=()=>{i.remove(),clearTimeout(u)};e.abort.push(_);let u=setTimeout(()=>{a.classList.add("q-ripple__inner--enter"),a.style.transform=`translate3d(${m},${y},0) scale3d(1,1,1)`,a.style.opacity=.2,u=setTimeout(()=>{a.classList.remove("q-ripple__inner--enter"),a.classList.add("q-ripple__inner--leave"),a.style.opacity=0,u=setTimeout(()=>{i.remove(),e.abort.splice(e.abort.indexOf(_),1)},275)},250)},50)}function q(r,{modifiers:t,value:e,arg:o}){const s=Object.assign({},r.cfg.ripple,t,e);r.modifiers={early:s.early===!0,stop:s.stop===!0,center:s.center===!0,color:s.color||o,keyCodes:[].concat(s.keyCodes||13)}}var j=w({name:"ripple",beforeMount(r,t){const e=t.instance.$.appContext.config.globalProperties.$q.config||{};if(e.ripple===!1)return;const o={cfg:e,enabled:t.value!==!1,modifiers:{},abort:[],start(s){o.enabled===!0&&s.qSkipRipple!==!0&&s.type===(o.modifiers.early===!0?"pointerdown":"click")&&h(s,r,o,s.qKeyEvent===!0)},keystart:M(s=>{o.enabled===!0&&s.qSkipRipple!==!0&&C(s,o.modifiers.keyCodes)===!0&&s.type===`key${o.modifiers.early===!0?"down":"up"}`&&h(s,r,o,!0)},300)};q(o,t),r.__qripple=o,E(o,"main",[[r,"pointerdown","start","passive"],[r,"click","start","passive"],[r,"keydown","keystart","passive"],[r,"keyup","keystart","passive"]])},updated(r,t){if(t.oldValue!==t.value){const e=r.__qripple;e!==void 0&&(e.enabled=t.value!==!1,e.enabled===!0&&Object(t.value)===t.value&&q(e,t))}},beforeUnmount(r){const t=r.__qripple;t!==void 0&&(t.abort.forEach(e=>{e()}),R(t,"main"),delete r._qripple)}});export{j as R};
