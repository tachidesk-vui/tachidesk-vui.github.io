import{f as w}from"./QSpinner.3e2d5684.js";import{a as x}from"./dom.08caf161.js";import{O as C,a1 as R,a2 as E,R as g,a3 as T}from"./index.44844fed.js";function O(r,t=250){let e=!1,s;return function(){return e===!1&&(e=!0,setTimeout(()=>{e=!1},t),s=r.apply(this,arguments)),s}}function h(r,t,e,s){e.modifiers.stop===!0&&g(r);const a=e.modifiers.color;let l=e.modifiers.center;l=l===!0||s===!0;const i=document.createElement("span"),o=document.createElement("span"),d=T(r),{left:$,top:k,width:n,height:c}=t.getBoundingClientRect(),p=Math.sqrt(n*n+c*c),f=p/2,m=`${(n-p)/2}px`,v=l?m:`${d.left-$-f}px`,y=`${(c-p)/2}px`,b=l?y:`${d.top-k-f}px`;o.className="q-ripple__inner",x(o,{height:`${p}px`,width:`${p}px`,transform:`translate3d(${v},${b},0) scale3d(.2,.2,1)`,opacity:0}),i.className=`q-ripple${a?" text-"+a:""}`,i.setAttribute("dir","ltr"),i.appendChild(o),t.appendChild(i);const _=()=>{i.remove(),clearTimeout(u)};e.abort.push(_);let u=setTimeout(()=>{o.classList.add("q-ripple__inner--enter"),o.style.transform=`translate3d(${m},${y},0) scale3d(1,1,1)`,o.style.opacity=.2,u=setTimeout(()=>{o.classList.remove("q-ripple__inner--enter"),o.classList.add("q-ripple__inner--leave"),o.style.opacity=0,u=setTimeout(()=>{i.remove(),e.abort.splice(e.abort.indexOf(_),1)},275)},250)},50)}function q(r,{modifiers:t,value:e,arg:s}){const a=Object.assign({},r.cfg.ripple,t,e);r.modifiers={early:a.early===!0,stop:a.stop===!0,center:a.center===!0,color:a.color||s,keyCodes:[].concat(a.keyCodes||13)}}var j=w({name:"ripple",beforeMount(r,t){const e=t.instance.$.appContext.config.globalProperties.$q.config||{};if(e.ripple===!1)return;const s={cfg:e,enabled:t.value!==!1,modifiers:{},abort:[],start(a){s.enabled===!0&&a.qSkipRipple!==!0&&a.type===(s.modifiers.early===!0?"pointerdown":"click")&&h(a,r,s,a.qKeyEvent===!0)},keystart:O(a=>{s.enabled===!0&&a.qSkipRipple!==!0&&C(a,s.modifiers.keyCodes)===!0&&a.type===`key${s.modifiers.early===!0?"down":"up"}`&&h(a,r,s,!0)},300)};q(s,t),r.__qripple=s,R(s,"main",[[r,"pointerdown","start","passive"],[r,"click","start","passive"],[r,"keydown","keystart","passive"],[r,"keyup","keystart","passive"]])},updated(r,t){if(t.oldValue!==t.value){const e=r.__qripple;e!==void 0&&(e.enabled=t.value!==!1,e.enabled===!0&&Object(t.value)===t.value&&q(e,t))}},beforeUnmount(r){const t=r.__qripple;t!==void 0&&(t.abort.forEach(e=>{e()}),E(t,"main"),delete r._qripple)}});export{j as R};
