import{Q as q}from"./QIcon.2d351aa4.js";import{u as M,Q as T,a as L,b as I,c as A,d as U,e as z}from"./use-meta.9ee2ca41.js";import{Q as u}from"./QBtn.41944cde.js";import{Q as i}from"./QTooltip.68741f2f.js";import{Q as n}from"./QItem.1c026cc9.js";import{Q as V}from"./QSeparator.28b0538f.js";import{Q as B}from"./QPageSticky.4027fe26.js";import{a as c}from"./QItemLabel.5faad878.js";import{Q as g}from"./QToggle.2f619e34.js";import{Q as R}from"./QSelect.4bcc4d34.js";import{R as h}from"./Ripple.0ca26118.js";import{c as F}from"./readerSettings.dfc12705.js";import{d as C,r as f,_ as O,aa as j,f as r,v as N,y as w,j as d,k as o,m as a,p as s,F as W,u as p,s as P,q as v,t as D,n as Q}from"./index.dbc7a857.js";import"./QSpinner.42a2ef4a.js";import"./use-dark.50bc9e4a.js";import"./QResizeObserver.15f4b422.js";import"./QDialog.69eea50b.js";import"./use-transition.16e24121.js";import"./focus-manager.32f8d49a.js";import"./scroll.f1c46160.js";import"./dom.63739cd8.js";import"./TouchPan.4f1afd03.js";import"./position-engine.a2a607ab.js";import"./format.2a3572e1.js";import"./QScrollObserver.f2bf8795.js";import"./use-checkbox.b903cb6c.js";import"./option-sizes.fb1d9294.js";import"./use-form.ccb09f59.js";import"./use-key-composition.51d56eac.js";import"./uid.42677368.js";import"./QMenu.d7fb8702.js";import"./use-virtual-scroll.6b1509e4.js";import"./rtl.b51694b1.js";import"./axios.1fbeadf0.js";import"./StoreStuff.12035455.js";import"./getenv.7492fdf7.js";const E=C({name:"ReaderDrawerCont",setup(){const e=j(),t=F(parseInt(`${e.params.mangaID}`)),$=t.vue_RM,b=t.vue_Paths,S=t.vue_WT,k=t.vue_Scale,l=t.vue_Offset,y=f(t.pathVisable.value);return{SreadMargins:S,SreadScale:k,SReadModel:$,SReadPath:b,PathOptions:["L","RAL","Kindle","Edge"],showPath:y,SReadoptions:["RTL","LTR","SinglePage","Vertical"],sReadOffset:l,options:t}},created:function(){this.$watch("SReadModel",e=>{this.options.setRM(e)}),this.$watch("SReadPath",e=>{this.options.setPaths(e)}),this.$watch("SreadMargins",e=>{this.options.setWT(e)}),this.$watch("SreadScale",e=>{this.options.setScale(e)}),this.$watch("sReadOffset",e=>{this.options.setOffset(e)}),this.$watch("showPath",()=>{this.options.toggPath()})}}),H=p("div",null,"blue = next",-1),G=p("div",null,"red = back",-1),K=p("div",null,"green = open menu",-1);function _(e,t,$,b,S,k){return r(),N(W,null,[w((r(),d(n,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:t[1]||(t[1]=l=>e.SreadMargins=!e.SreadMargins)},{default:o(()=>[a(c,null,{default:o(()=>[s("Page Margins")]),_:1}),a(g,{modelValue:e.SreadMargins,"onUpdate:modelValue":t[0]||(t[0]=l=>e.SreadMargins=l),color:"blue"},null,8,["modelValue"]),a(i,null,{default:o(()=>[s(" add a gap in between adjacent pages ")]),_:1})]),_:1})),[[h]]),w((r(),d(n,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:t[3]||(t[3]=l=>e.SreadScale=!e.SreadScale)},{default:o(()=>[a(c,null,{default:o(()=>[s("Page Scale")]),_:1}),a(g,{modelValue:e.SreadScale,"onUpdate:modelValue":t[2]||(t[2]=l=>e.SreadScale=l),color:"blue"},null,8,["modelValue"]),a(i,null,{default:o(()=>[s(" scale up pages to width or height depending on the mode ")]),_:1})]),_:1})),[[h]]),w((r(),d(n,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:t[5]||(t[5]=l=>e.sReadOffset=!e.sReadOffset)},{default:o(()=>[a(c,null,{default:o(()=>[s("Page Offset")]),_:1}),a(g,{modelValue:e.sReadOffset,"onUpdate:modelValue":t[4]||(t[4]=l=>e.sReadOffset=l),color:"blue"},null,8,["modelValue"]),a(i,null,{default:o(()=>[s(" add a blank page to the start to offset double pages for RTL and LTR modes ")]),_:1})]),_:1})),[[h]]),a(R,{modelValue:e.SReadModel,"onUpdate:modelValue":t[6]||(t[6]=l=>e.SReadModel=l),standout:"",label:"Reader Mode",options:e.SReadoptions},null,8,["modelValue","options"]),w((r(),d(n,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:t[8]||(t[8]=l=>e.showPath=!e.showPath)},{default:o(()=>[a(c,null,{default:o(()=>[s("View navigation layout")]),_:1}),a(g,{modelValue:e.showPath,"onUpdate:modelValue":t[7]||(t[7]=l=>e.showPath=l),color:"blue"},null,8,["modelValue"]),a(i,null,{default:o(()=>[H,G,K]),_:1})]),_:1})),[[h]]),a(R,{modelValue:e.SReadPath,"onUpdate:modelValue":t[9]||(t[9]=l=>e.SReadPath=l),standout:"",style:{width:"100%"},label:"Navigation layout",options:e.PathOptions},{default:o(()=>[a(i,null,{default:o(()=>[s(" options are the same as the tachiyomi equivilants ")]),_:1})]),_:1},8,["modelValue","options"])],64)}var J=O(E,[["render",_]]);const X=C({name:"ChapterLayout",components:{leftDrawerVue:J},setup(){const e=f("");return M(()=>({title:e.value,titleTemplate:t=>`${t} - Reading - Tachidesk-VUI `})),{titleData:f(["",""]),leftDrawerOpen:f(!1),title:e,FS:f(!1)}},computed:{scrollbarTheme(){return this.$q.dark.isActive?"darkSB":"lightSB"}},watch:{scrollbarTheme(e,t){document.body.classList.remove(t),document.body.classList.add(e)},$route(e,t){(e.params.mangaID!=t.params.mangaID||e.params.chapterID!=(parseInt(`${t.params.chapterID}`)+1).toString())&&this.$router.go(0)}},mounted(){document.body.classList.add(this.scrollbarTheme),window.addEventListener("full-screen",e=>this.isFS(e))},unmounted(){document.body.classList.remove(this.scrollbarTheme)},created:function(){this.$q.dark.set(this.$storeGet("dark",this.$q.dark.isActive))},methods:{settitleData(e){this.titleData=e,this.title=`${e[0]} ${e[1]}`},toggledark(){this.$q.dark.toggle(),this.$storeSet("dark",this.$q.dark.isActive,!0)},minimize(){this.$q.platform.is.electron&&window.myWindowAPI.minimize()},toggleMaximize(){this.$q.platform.is.electron&&window.myWindowAPI.toggleMaximize()},closeApp(){this.$q.platform.is.electron&&window.myWindowAPI.close()},isFS(e){this.FS=e.detail}}}),Y={class:"text-h5"},Z={class:"text-h6 text-weight-regular"};function x(e,t,$,b,S,k){const l=P("leftDrawerVue"),y=P("router-view");return r(),d(T,{view:"hHh Lpr fFf"},{default:o(()=>[a(A,{elevated:"",class:v(e.$q.dark.isActive?"bg-primaryD":"bg-primary")},{default:o(()=>[e.$q.platform.is.electron?(r(),d(L,{key:0,class:v(["q-electron-drag",e.FS?"hidden":""])},{default:o(()=>[a(q,{name:"img:favicon.ico",class:"q-electron-drag--exception"}),p("div",null,D(`${e.title} - Tachidesk-VUI`),1),a(I),a(u,{dense:"",flat:"",icon:"minimize",class:"q-electron-drag--exception",onClick:e.minimize},null,8,["onClick"]),a(u,{dense:"",flat:"",icon:"crop_square",class:"q-electron-drag--exception",onClick:e.toggleMaximize},null,8,["onClick"]),a(u,{dense:"",flat:"",icon:"close",class:"q-electron-drag--exception",onClick:e.closeApp},null,8,["onClick"])]),_:1},8,["class"])):Q("",!0)]),_:1},8,["class"]),a(U,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=m=>e.leftDrawerOpen=m),overlay:"",elevated:"",class:v(["fixed",e.$q.dark.isActive?"bg-secondaryD":"bg-secondary"]),breakpoint:0},{default:o(()=>[a(n,{class:"justify-between"},{default:o(()=>[a(u,{icon:"close",flat:"",round:"",onClick:t[0]||(t[0]=m=>e.leftDrawerOpen=!e.leftDrawerOpen)},{default:o(()=>[a(i,null,{default:o(()=>[s(" close menu ")]),_:1})]),_:1}),a(u,{icon:"arrow_back",flat:"",round:"",onClick:t[1]||(t[1]=m=>e.$router.go(-1))},{default:o(()=>[a(i,null,{default:o(()=>[s(" back ")]),_:1})]),_:1})]),_:1}),a(V),a(n,null,{default:o(()=>[p("div",Y,D(e.titleData[1]),1)]),_:1}),a(V),a(n,null,{default:o(()=>[p("div",Z,D(e.titleData[0]),1)]),_:1}),a(V),a(l)]),_:1},8,["modelValue","class"]),a(z,null,{default:o(()=>[a(y,{class:v(e.$q.dark.isActive?"bg-dark-page":"bg-light-page"),onTitleData:e.settitleData,onOpenMenu:t[3]||(t[3]=m=>e.leftDrawerOpen=!e.leftDrawerOpen)},null,8,["class","onTitleData"]),e.leftDrawerOpen?Q("",!0):(r(),d(B,{key:0,position:"top-left",offset:[18,18],class:"fabb"},{default:o(()=>[a(u,{fab:"",icon:"menu",color:"primary",onClick:t[4]||(t[4]=m=>e.leftDrawerOpen=!e.leftDrawerOpen)})]),_:1}))]),_:1})]),_:1})}var Ae=O(X,[["render",x],["__scopeId","data-v-b2148736"]]);export{Ae as default};
