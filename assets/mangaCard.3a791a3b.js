import{Q as d}from"./QInnerLoading.b338ea2e.js";import{Q as m}from"./QBadge.3ea654a3.js";import{g as b,Q as p}from"./usefull.2cec48aa.js";import{Q as w}from"./QCard.7d319dde.js";import{Q as k}from"./QIntersection.b5f69b4f.js";import{R as v}from"./Ripple.a336c28f.js";import{storeGet as C}from"./StoreStuff.ce90795c.js";import{d as q,r as c,_,s as $,f as t,j as i,k as a,y as Q,q as r,ab as g,m as l,u,p as y,n as s,v as o,t as h}from"./index.1d2a11c1.js";const I=q({name:"MangaCard",props:{manga:{type:Object,default:()=>Object},display:{type:String,default:"compact"}},setup(){const e=c(`${C("useCache",!0)}`),n=c("");return{useCache:e,imgdata:n}},computed:{listdivClass(){return this.display=="list"?"text-left q-ml-md text-h5 col-shrink":"text-center text-subtitle1"}},mounted:function(){b(this.manga.thumbnailUrl+"?useCache="+this.useCache).then(e=>{this.imgdata=e})}}),B={class:"transparent absolute-top q-mt-xs q-ml-xs",style:{padding:"0"}},L=["title"],j={class:"row items-center col-grow no-wrap"},z=["title"];function D(e,n,N,V,x,S){const f=$("router-link");return t(),i(k,null,{default:a(()=>[Q((t(),i(w,{flat:"",class:r(["my-card",e.$q.screen.sm||e.$q.screen.xs?"q-ma-xs":"q-ma-sm"]),style:g(e.display=="list"?"":"background: transparent")},{default:a(()=>[l(f,{to:"/manga/"+e.manga.id,class:r(["cursor-pointer",e.$q.dark.isActive?"light":"dark"]),style:{"text-decoration":"none"}},{default:a(()=>[e.display!="list"?(t(),i(p,{key:0,src:e.imgdata,loading:"lazy","spinner-color":"white",style:{"max-width":"100%","aspect-ratio":"225/350"},class:r([e.$q.dark.isActive?"bg-dark":"bg-light","rounded-borders"]),"img-style":e.manga.inLibrary?{filter:"brightness(0.4)"}:{},alt:e.manga.title},{default:a(()=>[l(d,{showing:!e.imgdata,color:"primary"},null,8,["showing"]),u("div",B,[e.manga.inLibrary?(t(),i(m,{key:0,color:"blue",style:{width:"min-content",padding:"5px"}},{default:a(()=>[y(" In Library ")]),_:1})):s("",!0)]),e.display=="compact"?(t(),o("div",{key:0,class:"absolute-bottom text-subtitle1 text-center",title:e.manga.title,style:{padding:"0",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical","text-overflow":"ellipsis",height:"3.5rem"}},h(e.manga.title),9,L)):s("",!0)]),_:1},8,["src","class","img-style","alt"])):s("",!0),u("div",j,[e.display=="list"?(t(),i(p,{key:0,src:e.imgdata,loading:"lazy","spinner-color":"white",style:{height:"93px","aspect-ratio":"225/350",width:"fit-content"},class:"rounded-borders items-center justify-center col-1","no-spinner":""},{default:a(()=>[l(d,{showing:!e.imgdata,color:"primary"},null,8,["showing"])]),_:1},8,["src"])):s("",!0),e.Display!="compact"?(t(),o("div",{key:1,class:r(e.listdivClass),title:e.manga.title,style:g([{padding:"0",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical","text-overflow":"ellipsis",overflow:"hidden",width:"100%"},e.Display=="list"?"":"height: 5.25rem;"])},h(e.manga.title),15,z)):s("",!0),e.manga.inLibrary&&e.display=="list"?(t(),o("div",{key:2,class:r(["justify-end flex items-end col-grow",e.$q.screen.sm||e.$q.screen.xs?"q-mr-xs":"q-mr-lg"])},[l(m,{color:"blue",style:{width:"min-content",padding:"5px"}},{default:a(()=>[y(" In Library ")]),_:1})],2)):s("",!0)])]),_:1},8,["to","class"])]),_:1},8,["class","style"])),[[v]])]),_:1})}var F=_(I,[["render",D],["__scopeId","data-v-ec55c2e6"]]);export{F as m};
