import{Q as S}from"./QIcon.84da60f3.js";import{u as X,Q as Y,a as Z,b as x,c as ee,d as te,e as ae}from"./use-meta.c87dc6a6.js";import{Q as y}from"./QBtn.bbf1baf8.js";import{c as T,h as O,a as oe}from"./QSpinner.cf072ceb.js";import{c as m,h as $,i as ne,e as L,r as p,a as le,w as b,o as se,l as re,g as ie,d as E,_ as P,f as i,j as f,k as s,m as o,n as w,p as C,t as Q,q as k,s as A,u as ue,v as I,x as D,F as H,y as ce}from"./index.7e40c818.js";import{Q as _,a as M}from"./QItemLabel.9f77ab94.js";import{Q as N}from"./QItem.29e44177.js";import{Q as de}from"./QResizeObserver.fcb610bb.js";import{u as me}from"./use-quasar.03dfde10.js";import{storeGet as fe,storeSet as pe}from"./StoreStuff.272df2e0.js";import"./use-dark.b03c4291.js";import"./use-timeout.b4da6a81.js";import"./scroll.2c23969d.js";import"./dom.acfac080.js";import"./TouchPan.238e16ac.js";import"./selection.afefdb65.js";import"./format.2a3572e1.js";import"./QScrollObserver.4cf6b0bb.js";import"./Ripple.27cebf29.js";var ve=T({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:n}){const u=m(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>$("div",{class:u.value},O(n.default))}}),ge=T({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:n}){const u=m(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>$("div",{class:u.value,role:"toolbar"},O(n.default))}}),ke=T({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:u}){const{proxy:{$q:v}}=ie(),a=ne(re,L);if(a===L)return console.error("QFooter needs to be child of QLayout"),L;const g=p(parseInt(e.heightHint,10)),c=p(!0),q=p(le.value===!0||a.isContainer.value===!0?0:window.innerHeight),l=m(()=>e.reveal===!0||a.view.value.indexOf("F")>-1||v.platform.is.ios&&a.isContainer.value===!0),z=m(()=>a.isContainer.value===!0?a.containerHeight.value:q.value),B=m(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return c.value===!0?g.value:0;const t=a.scroll.value.position+z.value+g.value-a.height.value;return t>0?t:0}),F=m(()=>e.modelValue!==!0||l.value===!0&&c.value!==!0),R=m(()=>e.modelValue===!0&&F.value===!0&&e.reveal===!0),j=m(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(F.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),U=m(()=>{const t=a.rows.value.bottom,r={};return t[0]==="l"&&a.left.space===!0&&(r[v.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),t[2]==="r"&&a.right.space===!0&&(r[v.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),r});function d(t,r){a.update("footer",t,r)}function h(t,r){t.value!==r&&(t.value=r)}function W({height:t}){h(g,t),d("size",t)}function G(){if(e.reveal!==!0)return;const{direction:t,position:r,inflectionPoint:J}=a.scroll.value;h(c,t==="up"||r-J<100||a.height.value-z.value-r-g.value<300)}function K(t){R.value===!0&&h(c,!0),u("focusin",t)}b(()=>e.modelValue,t=>{d("space",t),h(c,!0),a.animate()}),b(B,t=>{d("offset",t)}),b(()=>e.reveal,t=>{t===!1&&h(c,e.modelValue)}),b(c,t=>{a.animate(),u("reveal",t)}),b([g,a.scroll,a.height],G),b(()=>v.screen.height,t=>{a.isContainer.value!==!0&&h(q,t)});const V={};return a.instances.footer=V,e.modelValue===!0&&d("size",g.value),d("space",e.modelValue),d("offset",B.value),se(()=>{a.instances.footer===V&&(a.instances.footer=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const t=oe(n.default,[$(de,{debounce:0,onResize:W})]);return e.elevated===!0&&t.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),$("footer",{class:j.value,style:U.value,onFocusin:K},t)}}});const he=E({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}});function ye(e,n,u,v,a,g){return i(),f(N,{to:e.link,class:"text-grey-7","active-class":"text-primary"},{default:s(()=>[e.icon?(i(),f(_,{key:0,avatar:""},{default:s(()=>[o(S,{name:e.icon,size:"lg"},null,8,["name"])]),_:1})):w("",!0),o(_,null,{default:s(()=>[o(M,null,{default:s(()=>[C(Q(e.title),1)]),_:1}),o(M,{caption:""},{default:s(()=>[C(Q(e.caption),1)]),_:1})]),_:1})]),_:1},8,["to"])}var be=P(he,[["render",ye]]);const we=[{title:"Library",caption:"",icon:"o_collections_bookmark",link:"/library?tab=0"},{title:"Updates",caption:"",icon:"o_new_releases",link:"/updates"},{title:"Extensions",caption:"",icon:"o_extension",link:"/extensions"},{title:"Sources",caption:"",icon:"o_explore",link:"/sources"},{title:"Downloads",caption:"",icon:"o_download",link:"/downloads"},{title:"Settings",caption:"",icon:"settings",link:"/settings"}],$e=E({name:"MainLayout",components:{EssentialLink:be},setup(){const e=me(),n=p("Quasar App");X(()=>({title:n.value,titleTemplate:v=>`${v} - Tachidesk Quasar`})),e.dark.set(fe("dark",!0));const u=p(!0);return{title:n,essentialLinks:we,tru:p(!0),leftDrawerOpen:u,toggledark(){e.dark.toggle(),pe("dark",e.dark.isActive,!0)},doSearch:p(!1),Searchenter:p(!1),FS:p(!1)}},computed:{scrollbarTheme(){return this.$q.dark.isActive?"darkSB":"lightSB"}},watch:{scrollbarTheme(e,n){document.body.classList.remove(n),document.body.classList.add(e)}},mounted(){document.body.classList.add(this.scrollbarTheme),window.addEventListener("full-screen",e=>this.isFS(e))},unmounted(){document.body.classList.remove(this.scrollbarTheme)},methods:{setTitle(e){this.title=e},minimize(){this.$q.platform.is.electron&&window.myWindowAPI.minimize()},toggleMaximize(){this.$q.platform.is.electron&&window.myWindowAPI.toggleMaximize()},closeApp(){this.$q.platform.is.electron&&window.myWindowAPI.close()},isFS(e){console.log(e),this.FS=e.detail}}});function qe(e,n,u,v,a,g){const c=A("router-view"),q=A("EssentialLink");return i(),f(Y,{view:"hHh Lpr lFr",class:k([e.scrollbarTheme,"mainLayout"])},{default:s(()=>[o(ee,{elevated:"",class:k(e.$q.dark.isActive?"bg-primaryD":"bg-primary")},{default:s(()=>[e.$q.platform.is.electron?(i(),f(Z,{key:0,class:k(["q-electron-drag",e.FS?"hidden":""])},{default:s(()=>[o(S,{name:"img:favicon.ico",class:"q-electron-drag--exception"}),ue("div",null,Q(`${e.title} - Tachidesk Quasar`),1),o(x),o(y,{dense:"",flat:"",icon:"minimize",onClick:e.minimize},null,8,["onClick"]),o(y,{dense:"",flat:"",icon:"crop_square",onClick:e.toggleMaximize},null,8,["onClick"]),o(y,{dense:"",flat:"",icon:"close",onClick:e.closeApp},null,8,["onClick"])]),_:1},8,["class"])):w("",!0),o(ge,null,{default:s(()=>[e.$q.screen.xs||e.$q.screen.sm?w("",!0):(i(),f(y,{key:0,flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:n[0]||(n[0]=l=>e.leftDrawerOpen=!e.leftDrawerOpen)})),o(y,{icon:"arrow_back",flat:"",round:"",onClick:n[1]||(n[1]=l=>e.$router.go(-1))}),o(ve,{class:"col-grow q-pr-none"},{default:s(()=>[C(Q(e.$q.screen.xs?"":e.title),1)]),_:1}),o(c,{name:"inBar"}),o(y,{elevated:"",class:k(["q-ml-sm",e.$q.dark.isActive?"light":"dark"]),round:"",icon:e.$q.dark.isActive?"light_mode":"dark_mode",onClick:e.toggledark},null,8,["class","icon","onClick"])]),_:1})]),_:1},8,["class"]),e.$q.screen.sm||e.$q.screen.xs?(i(),f(ke,{key:0,elevated:"",class:k(["text-primary flex no-wrap justify-evenly",e.$q.dark.isActive?"bg-dark":"bg-light"])},{default:s(()=>[(i(!0),I(H,null,D(e.essentialLinks,l=>(i(),f(N,{key:l.link,to:l.link,class:"text-grey-7","active-class":"text-primary"},{default:s(()=>[o(_,null,{default:s(()=>[o(S,{name:l.icon,size:"sm"},null,8,["name"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1},8,["class"])):w("",!0),e.$q.screen.sm||e.$q.screen.xs?w("",!0):(i(),f(te,{key:1,modelValue:e.tru,"onUpdate:modelValue":n[2]||(n[2]=l=>e.tru=l),"show-if-above":"",mini:e.leftDrawerOpen,breakpoint:0,class:k(e.$q.dark.isActive?"bg-secondaryD":"bg-secondary")},{default:s(()=>[(i(!0),I(H,null,D(e.essentialLinks,l=>(i(),f(q,ce({key:l.title},l),null,16))),128))]),_:1},8,["modelValue","mini","class"])),o(ae,null,{default:s(()=>[o(c,{class:k([e.$q.dark.isActive?"bg-dark-page":"bg-light-page","OFlow"]),onSetTitle:e.setTitle},null,8,["class","onSetTitle"])]),_:1})]),_:1},8,["class"])}var Re=P($e,[["render",qe],["__scopeId","data-v-47431534"]]);export{Re as default};
