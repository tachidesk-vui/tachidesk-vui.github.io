import{Q as n}from"./QTooltip.8563e6ea.js";import{Q as p}from"./QBtn.d09c3270.js";import{Q as B}from"./QCardSection.3cc22be1.js";import{Q as C}from"./QSeparator.9ddc1e3c.js";import{Q as V}from"./QCard.0a761dda.js";import{Q as y}from"./QDialog.2d22470a.js";import{Q as q}from"./QToggle.a14e99fd.js";import{Q as b}from"./QItem.bc55f9b3.js";import{d as f,r as i,_ as $,f as s,j as g,k as e,m as a,v as m,q as d,F as u,s as D,p as c,x as I,u as T}from"./index.0e613efa.js";import"./position-engine.56892c3e.js";import"./selection.044ee34f.js";import"./scroll.924aa4d3.js";import"./dom.41615696.js";import"./use-timeout.8d87aef2.js";import"./use-transition.5dfc4757.js";import"./QSpinner.5eed4aaf.js";import"./QIcon.5f4d6aeb.js";import"./Ripple.3ab13508.js";import"./use-dark.6a672a10.js";import"./focus-manager.32f8d49a.js";import"./use-checkbox.7738225e.js";import"./option-sizes.f53f3704.js";import"./use-form.c48f108d.js";const M=f({props:{sele:{type:Boolean,required:!0},cat:{type:Object,required:!0}},setup(t){return{incat:i(t.sele)}},watch:{incat(){this.incat?this.$api.get(`/api/v1/manga/${this.$route.params.mangaID}/category/${this.cat.id}`):this.$api.delete(`/api/v1/manga/${this.$route.params.mangaID}/category/${this.cat.id}`)}}});function N(t,o,h,Q,v,k){return s(),g(b,null,{default:e(()=>[a(q,{modelValue:t.incat,"onUpdate:modelValue":o[0]||(o[0]=l=>t.incat=l),label:t.cat.name},null,8,["modelValue","label"])]),_:1})}var S=$(M,[["render",N]]);const U=f({name:"MangaTopBar",components:{topBcat:S},setup(){return{dialo:i(!1),options:i([]),curr:i([]),disp:i([])}},mounted:function(){this.$api.get("/api/v1/category/").then(({data:t})=>{this.options=t.slice(1)}),this.$api.get(`/api/v1/manga/${this.$route.params.mangaID}/category/`).then(({data:t})=>{this.curr=t})},methods:{update(){this.$bus.emit("updateManga")}}}),j=T("div",{class:"text-h5"},"Set categories",-1);function w(t,o,h,Q,v,k){const l=D("topBcat");return s(),m(u,null,[a(p,{flat:"",class:d(["q-ml-sm",t.$q.dark.isActive?"light":"dark"]),round:"",icon:"filter_list",onClick:o[0]||(o[0]=r=>t.dialo=!0)},{default:e(()=>[a(n,null,{default:e(()=>[c(" set category ")]),_:1})]),_:1},8,["class"]),a(y,{modelValue:t.dialo,"onUpdate:modelValue":o[1]||(o[1]=r=>t.dialo=r)},{default:e(()=>[a(V,null,{default:e(()=>[a(B,{class:"q-px-xl"},{default:e(()=>[j]),_:1}),a(C),(s(!0),m(u,null,I(t.options,r=>(s(),g(l,{key:r.id,sele:t.curr.find(_=>_.id==r.id)!=null,cat:r},null,8,["sele","cat"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(p,{flat:"",round:"",class:d(t.$q.dark.isActive?"light":"dark"),icon:"refresh",onClick:t.update},{default:e(()=>[a(n,null,{default:e(()=>[c(" Update Manga ")]),_:1})]),_:1},8,["class","onClick"])],64)}var st=$(U,[["render",w]]);export{st as default};
