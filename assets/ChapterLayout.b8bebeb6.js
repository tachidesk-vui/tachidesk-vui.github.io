import{Q}from"./QIcon.536bbd60.js";import{u as C,Q as O,a as M,b as q,c as T,d as L,e as I}from"./use-meta.27061663.js";import{Q as i}from"./QBtn.c26c6b21.js";import{Q as d}from"./QItem.87f955b6.js";import{Q as A}from"./QPageSticky.7e3bb6c2.js";import{a as p}from"./QItemLabel.6b78c45a.js";import{Q as u}from"./QToggle.c7860245.js";import{Q as V}from"./QSelect.3d0cf758.js";import{Q as B}from"./QTooltip.1d57c605.js";import{R as m}from"./Ripple.9bc9d9e6.js";import{c as z}from"./readerSettings.9a3312d0.js";import{d as P,r as g,_ as D,a5 as F,f as r,v as U,B as f,j as l,k as s,m as a,p as c,F as j,u as h,s as y,q as w,t as N,n as R}from"./index.be2a1a55.js";import"./QSpinner.1f524bf5.js";import"./use-dark.3bb5a166.js";import"./QResizeObserver.c03c5317.js";import"./use-timeout.4f668f64.js";import"./scroll.1b357255.js";import"./dom.f50efdc0.js";import"./TouchPan.ef5d4749.js";import"./selection.b5d21fe7.js";import"./format.2a3572e1.js";import"./QScrollObserver.7dd22caa.js";import"./use-checkbox.942fcff2.js";import"./option-sizes.48acada1.js";import"./use-form.f86814d7.js";import"./use-key-composition.c7a0adc6.js";import"./uid.42677368.js";import"./focus-manager.32f8d49a.js";import"./QMenu.38be77f7.js";import"./position-engine.644a532f.js";import"./QDialog.916163c2.js";import"./use-transition.2e9d1385.js";import"./use-virtual-scroll.89f53c72.js";import"./rtl.b51694b1.js";import"./axios.74424036.js";import"./StoreStuff.3fce3b94.js";const W=P({name:"ReaderDrawerCont",setup(){const e=F(),t=z(parseInt(`${e.params.mangaID}`)),S=t.vue_RM,v=t.vue_Paths,$=t.vue_WT,b=t.vue_Scale,o=t.vue_Offset,k=g(t.pathVisable.value);return{SreadMargins:$,SreadScale:b,SReadModel:S,SReadPath:v,PathOptions:["L","RAL","Kindle","Edge"],showPath:k,SReadoptions:["RTL","LTR","SinglePage","Vertical"],sReadOffset:o,options:t}},created:function(){this.$watch("SReadModel",e=>{this.options.setRM(e)}),this.$watch("SReadPath",e=>{this.options.setPaths(e)}),this.$watch("SreadMargins",e=>{this.options.setWT(e)}),this.$watch("SreadScale",e=>{this.options.setScale(e)}),this.$watch("sReadOffset",e=>{this.options.setOffset(e)}),this.$watch("showPath",()=>{this.options.toggPath()})}}),E=h("div",null,"blue = next",-1),H=h("div",null,"red = back",-1),G=h("div",null,"green = menu",-1);function K(e,t,S,v,$,b){return r(),U(j,null,[f((r(),l(d,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:t[1]||(t[1]=o=>e.SreadMargins=!e.SreadMargins)},{default:s(()=>[a(p,null,{default:s(()=>[c("Page Margins")]),_:1}),a(u,{modelValue:e.SreadMargins,"onUpdate:modelValue":t[0]||(t[0]=o=>e.SreadMargins=o),color:"blue"},null,8,["modelValue"])]),_:1})),[[m]]),f((r(),l(d,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:t[3]||(t[3]=o=>e.SreadScale=!e.SreadScale)},{default:s(()=>[a(p,null,{default:s(()=>[c("Page Scale")]),_:1}),a(u,{modelValue:e.SreadScale,"onUpdate:modelValue":t[2]||(t[2]=o=>e.SreadScale=o),color:"blue"},null,8,["modelValue"])]),_:1})),[[m]]),f((r(),l(d,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:t[5]||(t[5]=o=>e.sReadOffset=!e.sReadOffset)},{default:s(()=>[a(p,null,{default:s(()=>[c("Page Offset")]),_:1}),a(u,{modelValue:e.sReadOffset,"onUpdate:modelValue":t[4]||(t[4]=o=>e.sReadOffset=o),color:"blue"},null,8,["modelValue"])]),_:1})),[[m]]),a(V,{modelValue:e.SReadModel,"onUpdate:modelValue":t[6]||(t[6]=o=>e.SReadModel=o),standout:"",label:"Reader Mode",options:e.SReadoptions},null,8,["modelValue","options"]),f((r(),l(d,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:t[8]||(t[8]=o=>e.showPath=!e.showPath)},{default:s(()=>[a(p,null,{default:s(()=>[c("View Path")]),_:1}),a(u,{modelValue:e.showPath,"onUpdate:modelValue":t[7]||(t[7]=o=>e.showPath=o),color:"blue"},null,8,["modelValue"]),a(B,null,{default:s(()=>[E,H,G]),_:1})]),_:1})),[[m]]),a(V,{modelValue:e.SReadPath,"onUpdate:modelValue":t[9]||(t[9]=o=>e.SReadPath=o),standout:"",style:{width:"100%"},label:"Navigation layout",options:e.PathOptions},null,8,["modelValue","options"])],64)}var J=D(W,[["render",K]]);const X=P({name:"ChapterLayout",components:{leftDrawerVue:J},setup(){const e=g("");return C(()=>({title:e.value,titleTemplate:t=>`${t} - Reading - Tachidesk Quasar `})),{leftDrawerOpen:g(!1),title:e,FS:g(!1)}},computed:{scrollbarTheme(){return this.$q.dark.isActive?"darkSB":"lightSB"}},watch:{scrollbarTheme(e,t){document.body.classList.remove(t),document.body.classList.add(e)},$route(e,t){(e.params.mangaID!=t.params.mangaID||e.params.chapterID!=(parseInt(`${t.params.chapterID}`)+1).toString())&&this.$router.go(0)}},mounted(){document.body.classList.add(this.scrollbarTheme),window.addEventListener("full-screen",e=>this.isFS(e))},unmounted(){document.body.classList.remove(this.scrollbarTheme)},created:function(){this.$q.dark.set(this.$storeGet("dark",this.$q.dark.isActive))},methods:{toggledark(){this.$q.dark.toggle(),this.$storeSet("dark",this.$q.dark.isActive,!0)},setTitle(e){this.title=e},minimize(){this.$q.platform.is.electron&&window.myWindowAPI.minimize()},toggleMaximize(){this.$q.platform.is.electron&&window.myWindowAPI.toggleMaximize()},closeApp(){this.$q.platform.is.electron&&window.myWindowAPI.close()},isFS(e){this.FS=e.detail}}});function Y(e,t,S,v,$,b){const o=y("leftDrawerVue"),k=y("router-view");return r(),l(O,{view:"hHh Lpr fFf"},{default:s(()=>[a(T,{elevated:"",class:w(e.$q.dark.isActive?"bg-primaryD":"bg-primary")},{default:s(()=>[e.$q.platform.is.electron?(r(),l(M,{key:0,class:w(["q-electron-drag",e.FS?"hidden":""])},{default:s(()=>[a(Q,{name:"img:favicon.ico",class:"q-electron-drag--exception"}),h("div",null,N(`${e.title} - Tachidesk Quasar`),1),a(q),a(i,{dense:"",flat:"",icon:"minimize",class:"q-electron-drag--exception",onClick:e.minimize},null,8,["onClick"]),a(i,{dense:"",flat:"",icon:"crop_square",class:"q-electron-drag--exception",onClick:e.toggleMaximize},null,8,["onClick"]),a(i,{dense:"",flat:"",icon:"close",class:"q-electron-drag--exception",onClick:e.closeApp},null,8,["onClick"])]),_:1},8,["class"])):R("",!0)]),_:1},8,["class"]),a(L,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=n=>e.leftDrawerOpen=n),overlay:"",elevated:"",class:w(["fixed",e.$q.dark.isActive?"bg-secondaryD":"bg-secondary"]),breakpoint:0},{default:s(()=>[a(d,{class:"justify-between"},{default:s(()=>[a(i,{icon:"close",flat:"",round:"",onClick:t[0]||(t[0]=n=>e.leftDrawerOpen=!e.leftDrawerOpen)}),a(i,{icon:"arrow_back",flat:"",round:"",onClick:t[1]||(t[1]=n=>e.$router.go(-1))})]),_:1}),a(o)]),_:1},8,["modelValue","class"]),a(I,null,{default:s(()=>[a(k,{class:w(e.$q.dark.isActive?"bg-dark-page":"bg-light-page"),onSetTitle:e.setTitle,onOpenMenu:t[3]||(t[3]=n=>e.leftDrawerOpen=!e.leftDrawerOpen)},null,8,["class","onSetTitle"]),e.leftDrawerOpen?R("",!0):(r(),l(A,{key:0,position:"top-left",offset:[18,18],class:"fabb"},{default:s(()=>[a(i,{fab:"",icon:"menu",color:"primary",onClick:t[4]||(t[4]=n=>e.leftDrawerOpen=!e.leftDrawerOpen)})]),_:1}))]),_:1})]),_:1})}var Te=D(X,[["render",Y],["__scopeId","data-v-30695984"]]);export{Te as default};
