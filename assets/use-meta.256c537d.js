import{c as V,h as ie,d as He,e as ve,a as We}from"./QSpinner.a066f13a.js";import{h as g,c as o,g as I,i as re,e as T,r as S,w as f,o as me,l as j,C as De,D as fe,y as Me,E as ye,G as Re,a as Ve,H as E,I as ge,J as A,K as _e,L as Fe,M as ae}from"./index.e607ebbf.js";import{u as be,a as we}from"./use-dark.5a95c9ad.js";import{Q as ne}from"./QResizeObserver.efd16df7.js";import{u as Ae,a as Ie,b as Ne,c as Ue,d as Ee,e as Ke}from"./QDialog.fd3f2ebf.js";import{T as le}from"./TouchPan.bf11c4a5.js";import{b as K}from"./format.2a3572e1.js";import{Q as je}from"./QScrollObserver.1d2154db.js";import{g as oe}from"./scroll.d09d2b62.js";const Ge=g("div",{class:"q-space"});var it=V({name:"QSpace",setup(){return()=>Ge}}),rt=V({name:"QBar",props:{...be,dense:Boolean},setup(e,{slots:h}){const{proxy:{$q:v}}=I(),u=we(e,v),n=o(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${u.value===!0?"dark":"light"}`);return()=>g("div",{class:n.value,role:"toolbar"},ie(h.default))}}),ut=V({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:v}){const{proxy:{$q:u}}=I(),n=re(j,T);if(n===T)return console.error("QHeader needs to be child of QLayout"),T;const c=S(parseInt(e.heightHint,10)),$=S(!0),z=o(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||u.platform.is.ios&&n.isContainer.value===!0),p=o(()=>{if(e.modelValue!==!0)return 0;if(z.value===!0)return $.value===!0?c.value:0;const l=c.value-n.scroll.value.position;return l>0?l:0}),w=o(()=>e.modelValue!==!0||z.value===!0&&$.value!==!0),a=o(()=>e.modelValue===!0&&w.value===!0&&e.reveal===!0),O=o(()=>"q-header q-layout__section--marginal "+(z.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(w.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),H=o(()=>{const l=n.rows.value.top,q={};return l[0]==="l"&&n.left.space===!0&&(q[u.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),l[2]==="r"&&n.right.space===!0&&(q[u.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),q});function y(l,q){n.update("header",l,q)}function d(l,q){l.value!==q&&(l.value=q)}function B({height:l}){d(c,l),y("size",l)}function b(l){a.value===!0&&d($,!0),v("focusin",l)}f(()=>e.modelValue,l=>{y("space",l),d($,!0),n.animate()}),f(p,l=>{y("offset",l)}),f(()=>e.reveal,l=>{l===!1&&d($,e.modelValue)}),f($,l=>{n.animate(),v("reveal",l)}),f(n.scroll,l=>{e.reveal===!0&&d($,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const s={};return n.instances.header=s,e.modelValue===!0&&y("size",c.value),y("space",e.modelValue),y("offset",p.value),me(()=>{n.instances.header===s&&(n.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const l=He(h.default,[]);return e.elevated===!0&&l.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(g(ne,{debounce:0,onResize:B})),g("header",{class:O.value,style:H.value,onFocusin:b},l)}}});const he=150;var st=V({name:"QDrawer",inheritAttrs:!1,props:{...Ae,...be,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ie,"onLayout","miniState"],setup(e,{slots:h,emit:v,attrs:u}){const n=I(),{proxy:{$q:c}}=n,$=we(e,c),{preventBodyScroll:z}=Ke(),{registerTimeout:p,removeTimeout:w}=Ne(),a=re(j,T);if(a===T)return console.error("QDrawer needs to be child of QLayout"),T;let O,H,y;const d=S(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),B=o(()=>e.mini===!0&&d.value!==!0),b=o(()=>B.value===!0?e.miniWidth:e.width),s=S(e.showIfAbove===!0&&d.value===!1?!0:e.modelValue===!0),l=o(()=>e.persistent!==!0&&(d.value===!0||qe.value===!0));function q(t,i){if(W(),t!==!1&&a.animate(),k(0),d.value===!0){const x=a.instances[N.value];x!==void 0&&x.belowBreakpoint===!0&&x.hide(!1),Q(1),a.isContainer.value!==!0&&z(!0)}else Q(0),t!==!1&&Z(!1);p(()=>{t!==!1&&Z(!0),i!==!0&&v("show",t)},he)}function r(t,i){_(),t!==!1&&a.animate(),Q(0),k(M.value*b.value),ee(),i!==!0?p(()=>{v("hide",t)},he):w()}const{show:m,hide:C}=Ue({showing:s,hideOnRouteChange:l,handleShow:q,handleHide:r}),{addToHistory:W,removeFromHistory:_}=Ee(s,C,l),D={belowBreakpoint:d,hide:C},L=o(()=>e.side==="right"),M=o(()=>(c.lang.rtl===!0?-1:1)*(L.value===!0?1:-1)),ue=S(0),R=S(!1),G=S(!1),se=S(b.value*M.value),N=o(()=>L.value===!0?"left":"right"),J=o(()=>s.value===!0&&d.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:b.value:0),X=o(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(L.value?"R":"L")>-1||c.platform.is.ios===!0&&a.isContainer.value===!0),F=o(()=>e.overlay===!1&&s.value===!0&&d.value===!1),qe=o(()=>e.overlay===!0&&s.value===!0&&d.value===!1),xe=o(()=>"fullscreen q-drawer__backdrop"+(s.value===!1&&R.value===!1?" hidden":"")),Se=o(()=>({backgroundColor:`rgba(0,0,0,${ue.value*.4})`})),ce=o(()=>L.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),$e=o(()=>L.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Ce=o(()=>{const t={};return a.header.space===!0&&ce.value===!1&&(X.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&$e.value===!1&&(X.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),ke=o(()=>{const t={width:`${b.value}px`,transform:`translateX(${se.value}px)`};return d.value===!0?t:Object.assign(t,Ce.value)}),ze=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),pe=o(()=>`q-drawer q-drawer--${e.side}`+(G.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+($.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":s.value===!0?"":" q-layout--prevent-focus")+(d.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${B.value===!0?"mini":"standard"}`+(X.value===!0||F.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ce.value===!0?" q-drawer--top-padding":""))),Be=o(()=>{const t=c.lang.rtl===!0?e.side:N.value;return[[le,Pe,void 0,{[t]:!0,mouse:!0}]]}),Le=o(()=>{const t=c.lang.rtl===!0?N.value:e.side;return[[le,de,void 0,{[t]:!0,mouse:!0}]]}),Te=o(()=>{const t=c.lang.rtl===!0?N.value:e.side;return[[le,de,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function Y(){Oe(d,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}f(d,t=>{t===!0?(O=s.value,s.value===!0&&C(!1)):e.overlay===!1&&e.behavior!=="mobile"&&O!==!1&&(s.value===!0?(k(0),Q(0),ee()):m(!1))}),f(()=>e.side,(t,i)=>{a.instances[i]===D&&(a.instances[i]=void 0,a[i].space=!1,a[i].offset=0),a.instances[t]=D,a[t].size=b.value,a[t].space=F.value,a[t].offset=J.value}),f(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&Y()}),f(()=>e.behavior+e.breakpoint,Y),f(a.isContainer,t=>{s.value===!0&&z(t!==!0),t===!0&&Y()}),f(a.scrollbarWidth,()=>{k(s.value===!0?0:void 0)}),f(J,t=>{P("offset",t)}),f(F,t=>{v("onLayout",t),P("space",t)}),f(L,()=>{k()}),f(b,t=>{k(),te(e.miniToOverlay,t)}),f(()=>e.miniToOverlay,t=>{te(t,b.value)}),f(()=>c.lang.rtl,()=>{k()}),f(()=>e.mini,()=>{e.modelValue===!0&&(Qe(),a.animate())}),f(B,t=>{v("miniState",t)});function k(t){t===void 0?fe(()=>{t=s.value===!0?0:b.value,k(M.value*t)}):(a.isContainer.value===!0&&L.value===!0&&(d.value===!0||Math.abs(t)===b.value)&&(t+=M.value*a.scrollbarWidth.value),se.value=t)}function Q(t){ue.value=t}function Z(t){const i=t===!0?"remove":a.isContainer.value!==!0?"add":"";i!==""&&document.body.classList[i]("q-body--drawer-toggle")}function Qe(){clearTimeout(H),n.proxy&&n.proxy.$el&&n.proxy.$el.classList.add("q-drawer--mini-animate"),G.value=!0,H=setTimeout(()=>{G.value=!1,n&&n.proxy&&n.proxy.$el&&n.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Pe(t){if(s.value!==!1)return;const i=b.value,x=K(t.distance.x,0,i);if(t.isFinal===!0){x>=Math.min(75,i)===!0?m():(a.animate(),Q(0),k(M.value*i)),R.value=!1;return}k((c.lang.rtl===!0?L.value!==!0:L.value)?Math.max(i-x,0):Math.min(0,x-i)),Q(K(x/i,0,1)),t.isFirst===!0&&(R.value=!0)}function de(t){if(s.value!==!0)return;const i=b.value,x=t.direction===e.side,U=(c.lang.rtl===!0?x!==!0:x)?K(t.distance.x,0,i):0;if(t.isFinal===!0){Math.abs(U)<Math.min(75,i)===!0?(a.animate(),Q(1),k(0)):C(),R.value=!1;return}k(M.value*U),Q(K(1-U/i,0,1)),t.isFirst===!0&&(R.value=!0)}function ee(){z(!1),Z(!0)}function P(t,i){a.update(e.side,t,i)}function Oe(t,i){t.value!==i&&(t.value=i)}function te(t,i){P("size",t===!0?e.miniWidth:i)}return a.instances[e.side]=D,te(e.miniToOverlay,b.value),P("space",F.value),P("offset",J.value),e.showIfAbove===!0&&e.modelValue!==!0&&s.value===!0&&e["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!0),De(()=>{v("onLayout",F.value),v("miniState",B.value),O=e.showIfAbove===!0;const t=()=>{(s.value===!0?q:r)(!1,!0)};if(a.totalWidth.value!==0){fe(t);return}y=f(a.totalWidth,()=>{y(),y=void 0,s.value===!1&&e.showIfAbove===!0&&d.value===!1?m(!1):t()})}),me(()=>{y!==void 0&&y(),clearTimeout(H),s.value===!0&&ee(),a.instances[e.side]===D&&(a.instances[e.side]=void 0,P("size",0),P("offset",0),P("space",!1))}),()=>{const t=[];d.value===!0&&(e.noSwipeOpen===!1&&t.push(Me(g("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Be.value)),t.push(ve("div",{ref:"backdrop",class:xe.value,style:Se.value,"aria-hidden":"true",onClick:C},void 0,"backdrop",e.noSwipeBackdrop!==!0&&s.value===!0,()=>Te.value)));const i=B.value===!0&&h.mini!==void 0,x=[g("div",{...u,key:""+i,class:[ze.value,u.class]},i===!0?h.mini():ie(h.default))];return e.elevated===!0&&s.value===!0&&x.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(ve("aside",{ref:"content",class:pe.value,style:ke.value},x,"contentclose",e.noSwipeClose!==!0&&d.value===!0,()=>Le.value)),g("div",{class:"q-drawer-container"},t)}}}),ct=V({name:"QPageContainer",setup(e,{slots:h}){const{proxy:{$q:v}}=I(),u=re(j,T);if(u===T)return console.error("QPageContainer needs to be child of QLayout"),T;ye(Re,!0);const n=o(()=>{const c={};return u.header.space===!0&&(c.paddingTop=`${u.header.size}px`),u.right.space===!0&&(c[`padding${v.lang.rtl===!0?"Left":"Right"}`]=`${u.right.size}px`),u.footer.space===!0&&(c.paddingBottom=`${u.footer.size}px`),u.left.space===!0&&(c[`padding${v.lang.rtl===!0?"Right":"Left"}`]=`${u.left.size}px`),c});return()=>g("div",{class:"q-page-container",style:n.value},ie(h.default))}}),dt=V({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:h,emit:v}){const{proxy:{$q:u}}=I(),n=S(null),c=S(u.screen.height),$=S(e.container===!0?0:u.screen.width),z=S({position:0,direction:"down",inflectionPoint:0}),p=S(0),w=S(Ve.value===!0?0:oe()),a=o(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),O=o(()=>e.container===!1?{minHeight:u.screen.height+"px"}:null),H=o(()=>w.value!==0?{[u.lang.rtl===!0?"left":"right"]:`${w.value}px`}:null),y=o(()=>w.value!==0?{[u.lang.rtl===!0?"right":"left"]:0,[u.lang.rtl===!0?"left":"right"]:`-${w.value}px`,width:`calc(100% + ${w.value}px)`}:null);function d(r){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:r.position.top,direction:r.direction,directionChanged:r.directionChanged,inflectionPoint:r.inflectionPoint.top,delta:r.delta.top};z.value=m,e.onScroll!==void 0&&v("scroll",m)}}function B(r){const{height:m,width:C}=r;let W=!1;c.value!==m&&(W=!0,c.value=m,e.onScrollHeight!==void 0&&v("scrollHeight",m),s()),$.value!==C&&(W=!0,$.value=C),W===!0&&e.onResize!==void 0&&v("resize",r)}function b({height:r}){p.value!==r&&(p.value=r,s())}function s(){if(e.container===!0){const r=c.value>p.value?oe():0;w.value!==r&&(w.value=r)}}let l;const q={instances:{},view:o(()=>e.view),isContainer:o(()=>e.container),rootRef:n,height:c,containerHeight:p,scrollbarWidth:w,totalWidth:o(()=>$.value+w.value),rows:o(()=>{const r=e.view.toLowerCase().split(" ");return{top:r[0].split(""),middle:r[1].split(""),bottom:r[2].split("")}}),header:E({size:0,offset:0,space:!1}),right:E({size:300,offset:0,space:!1}),footer:E({size:0,offset:0,space:!1}),left:E({size:300,offset:0,space:!1}),scroll:z,animate(){l!==void 0?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),l=void 0},155)},update(r,m,C){q[r][m]=C}};if(ye(j,q),oe()>0){let C=function(){r=null,m.classList.remove("hide-scrollbar")},W=function(){if(r===null){if(m.scrollHeight>u.screen.height)return;m.classList.add("hide-scrollbar")}else clearTimeout(r);r=setTimeout(C,300)},_=function(D){r!==null&&D==="remove"&&(clearTimeout(r),C()),window[`${D}EventListener`]("resize",W)},r=null;const m=document.body;f(()=>e.container!==!0?"add":"remove",_),e.container!==!0&&_("add"),ge(()=>{_("remove")})}return()=>{const r=We(h.default,[g(je,{onScroll:d}),g(ne,{onResize:B})]),m=g("div",{class:a.value,style:O.value,ref:e.container===!0?void 0:n,tabindex:-1},r);return e.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:n},[g(ne,{onResize:b}),g("div",{class:"absolute-full",style:H.value},[g("div",{class:"scroll",style:y.value},[m])])]):m}}});function vt(e){{const h={active:!0};if(typeof e=="function"){const v=o(e);h.val=v.value,f(v,u=>{h.val=u,h.active===!0&&A()})}else h.val=e;ae.push(h),A(),_e(()=>{h.active=!0,A()}),Fe(()=>{h.active=!1,A()}),ge(()=>{ae.splice(ae.indexOf(h),1),A()})}}export{dt as Q,rt as a,it as b,ut as c,st as d,ct as e,vt as u};
